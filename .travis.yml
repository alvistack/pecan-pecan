language: python
cache: pip
services:
  - mongodb

env:
  - TOXENV=py27
  - TOXENV=py33
  - TOXENV=py34
  - TOXENV=py35
  - TOXENV=scaffolds-27
  - TOXENV=scaffolds-33
  - TOXENV=scaffolds-34
  - TOXENV=scaffolds-35
  - TOXENV=scaffolds-27-rest-api
  - TOXENV=scaffolds-33-rest-api
  - TOXENV=scaffolds-34-rest-api
  - TOXENV=scaffolds-35-rest-api
  - TOXENV=pypy
  - TOXENV=pep8

install:
  - travis_retry pip install tox

script:
  - travis_wait tox

addons:
  apt:
    sources:
      - deadsnakes
    packages:
      - python3.5
      - python3.5-dev

notifications:
  irc:
    channels:
      - "chat.freenode.net#pecanpy"
